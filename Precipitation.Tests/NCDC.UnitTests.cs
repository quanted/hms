using System.Collections.Generic;
using Data;
using Xunit;

namespace Precipitation.Tests
{
    public class NCDCUnitTests
    {

        public string inputObject = "{\"Source\":\"ncei\",\"DateTimeSpan\":{\"StartDate\":\"2015-01-01T00:00:00\",\"EndDate\":\"2016-01-01T00:00:00\",\"DateTimeFormat\":\"yyyy-MM-dd HH\"},\"Geometry\":{\"Description\":\"\",\"Point\":{\"Latitude\":0.0,\"Longitude\":0.0},\"GeometryMetadata\":{\"stationID\":\"GHCND:USW00013874\",\"token\":\"RUYNSTvfSvtosAoakBSpgxcHASBxazzP\"},\"Timezone\":{\"Name\":\"EST\",\"Offset\":-5.0,\"DLS\":false}},\"DataValueFormat\":\"E3\",\"TemporalResolution\":\"default\",\"TimeLocalized\":true,\"Units\":\"default\",\"OutputFormat\":\"json\",\"BaseURL\":[\"https://www.ncei.noaa.gov/access/services/data/v1?\"],\"InputTimeSeries\":{}}";
        public string outputObject = "{\"Dataset\":\"Precipitation\",\"DataSource\":\"ncdc\",\"Metadata\":{\"ncdc_elevation\":\"307.8\",\"ncdc_mindate\":\"1930-01-01\",\"ncdc_maxdate\":\"2018-05-29\",\"ncdc_latitude\":\"33.6301\",\"ncdc_name\":\"ATLANTA HARTSFIELD INTERNATIONAL AIRPORT, GA US\",\"ncdc_datacoverage\":\"1\",\"ncdc_id\":\"GHCND:USW00013874\",\"ncdc_elevationUnit\":\"METERS\",\"ncdc_longitude\":\"-84.4418\",\"ncdc_temporalResolution\":\"default\",\"ncdc_units\":\"mm\"},\"Data\":{\"2015-01-01 00\":[\"1.800E+000\"],\"2015-01-02 00\":[\"2.410E+001\"],\"2015-01-03 00\":[\"4.100E+000\"],\"2015-01-04 00\":[\"4.170E+001\"],\"2015-01-05 00\":[\"0.000E+000\"],\"2015-01-06 00\":[\"0.000E+000\"],\"2015-01-07 00\":[\"0.000E+000\"],\"2015-01-08 00\":[\"0.000E+000\"],\"2015-01-09 00\":[\"0.000E+000\"],\"2015-01-10 00\":[\"0.000E+000\"],\"2015-01-11 00\":[\"2.000E+000\"],\"2015-01-12 00\":[\"5.000E-001\"],\"2015-01-13 00\":[\"1.800E+000\"],\"2015-01-14 00\":[\"0.000E+000\"],\"2015-01-15 00\":[\"5.800E+000\"],\"2015-01-16 00\":[\"0.000E+000\"],\"2015-01-17 00\":[\"0.000E+000\"],\"2015-01-18 00\":[\"0.000E+000\"],\"2015-01-19 00\":[\"0.000E+000\"],\"2015-01-20 00\":[\"0.000E+000\"],\"2015-01-21 00\":[\"0.000E+000\"],\"2015-01-22 00\":[\"1.500E+000\"],\"2015-01-23 00\":[\"2.620E+001\"],\"2015-01-24 00\":[\"3.000E-001\"],\"2015-01-25 00\":[\"8.000E-001\"],\"2015-01-26 00\":[\"3.000E-001\"],\"2015-01-27 00\":[\"0.000E+000\"],\"2015-01-28 00\":[\"0.000E+000\"],\"2015-01-29 00\":[\"0.000E+000\"],\"2015-01-30 00\":[\"0.000E+000\"],\"2015-01-31 00\":[\"0.000E+000\"],\"2015-02-01 00\":[\"1.550E+001\"],\"2015-02-02 00\":[\"8.100E+000\"],\"2015-02-03 00\":[\"0.000E+000\"],\"2015-02-04 00\":[\"0.000E+000\"],\"2015-02-05 00\":[\"0.000E+000\"],\"2015-02-06 00\":[\"0.000E+000\"],\"2015-02-07 00\":[\"0.000E+000\"],\"2015-02-08 00\":[\"0.000E+000\"],\"2015-02-09 00\":[\"8.600E+000\"],\"2015-02-10 00\":[\"0.000E+000\"],\"2015-02-11 00\":[\"0.000E+000\"],\"2015-02-12 00\":[\"0.000E+000\"],\"2015-02-13 00\":[\"0.000E+000\"],\"2015-02-14 00\":[\"0.000E+000\"],\"2015-02-15 00\":[\"0.000E+000\"],\"2015-02-16 00\":[\"3.120E+001\"],\"2015-02-17 00\":[\"5.000E-001\"],\"2015-02-18 00\":[\"0.000E+000\"],\"2015-02-19 00\":[\"0.000E+000\"],\"2015-02-20 00\":[\"0.000E+000\"],\"2015-02-21 00\":[\"2.800E+000\"],\"2015-02-22 00\":[\"1.020E+001\"],\"2015-02-23 00\":[\"8.100E+000\"],\"2015-02-24 00\":[\"2.800E+000\"],\"2015-02-25 00\":[\"1.750E+001\"],\"2015-02-26 00\":[\"0.000E+000\"],\"2015-02-27 00\":[\"0.000E+000\"],\"2015-02-28 00\":[\"0.000E+000\"],\"2015-03-01 00\":[\"3.300E+000\"],\"2015-03-02 00\":[\"1.300E+000\"],\"2015-03-03 00\":[\"7.600E+000\"],\"2015-03-04 00\":[\"3.000E-001\"],\"2015-03-05 00\":[\"4.100E+000\"],\"2015-03-06 00\":[\"0.000E+000\"],\"2015-03-07 00\":[\"0.000E+000\"],\"2015-03-08 00\":[\"0.000E+000\"],\"2015-03-09 00\":[\"0.000E+000\"],\"2015-03-10 00\":[\"0.000E+000\"],\"2015-03-11 00\":[\"8.000E-001\"],\"2015-03-12 00\":[\"1.500E+000\"],\"2015-03-13 00\":[\"3.800E+000\"],\"2015-03-14 00\":[\"1.500E+000\"],\"2015-03-15 00\":[\"0.000E+000\"],\"2015-03-16 00\":[\"0.000E+000\"],\"2015-03-17 00\":[\"0.000E+000\"],\"2015-03-18 00\":[\"0.000E+000\"],\"2015-03-19 00\":[\"1.140E+001\"],\"2015-03-20 00\":[\"3.000E-001\"],\"2015-03-21 00\":[\"3.000E-001\"],\"2015-03-22 00\":[\"2.540E+001\"],\"2015-03-23 00\":[\"0.000E+000\"],\"2015-03-24 00\":[\"0.000E+000\"],\"2015-03-25 00\":[\"3.000E-001\"],\"2015-03-26 00\":[\"0.000E+000\"],\"2015-03-27 00\":[\"8.000E-001\"],\"2015-03-28 00\":[\"0.000E+000\"],\"2015-03-29 00\":[\"0.000E+000\"],\"2015-03-30 00\":[\"1.220E+001\"],\"2015-03-31 00\":[\"1.000E+000\"],\"2015-04-01 00\":[\"1.550E+001\"],\"2015-04-02 00\":[\"1.800E+000\"],\"2015-04-03 00\":[\"0.000E+000\"],\"2015-04-04 00\":[\"8.600E+000\"],\"2015-04-05 00\":[\"0.000E+000\"],\"2015-04-06 00\":[\"1.550E+001\"],\"2015-04-07 00\":[\"0.000E+000\"],\"2015-04-08 00\":[\"0.000E+000\"],\"2015-04-09 00\":[\"0.000E+000\"],\"2015-04-10 00\":[\"3.860E+001\"],\"2015-04-11 00\":[\"0.000E+000\"],\"2015-04-12 00\":[\"5.000E-001\"],\"2015-04-13 00\":[\"4.800E+000\"],\"2015-04-14 00\":[\"9.100E+000\"],\"2015-04-15 00\":[\"1.270E+001\"],\"2015-04-16 00\":[\"7.100E+000\"],\"2015-04-17 00\":[\"1.880E+001\"],\"2015-04-18 00\":[\"6.400E+000\"],\"2015-04-19 00\":[\"1.320E+001\"],\"2015-04-20 00\":[\"0.000E+000\"],\"2015-04-21 00\":[\"0.000E+000\"],\"2015-04-22 00\":[\"0.000E+000\"],\"2015-04-23 00\":[\"0.000E+000\"],\"2015-04-24 00\":[\"0.000E+000\"],\"2015-04-25 00\":[\"2.340E+001\"],\"2015-04-26 00\":[\"0.000E+000\"],\"2015-04-27 00\":[\"0.000E+000\"],\"2015-04-28 00\":[\"5.000E-001\"],\"2015-04-29 00\":[\"2.130E+001\"],\"2015-04-30 00\":[\"0.000E+000\"],\"2015-05-01 00\":[\"0.000E+000\"],\"2015-05-02 00\":[\"0.000E+000\"],\"2015-05-03 00\":[\"0.000E+000\"],\"2015-05-04 00\":[\"0.000E+000\"],\"2015-05-05 00\":[\"0.000E+000\"],\"2015-05-06 00\":[\"0.000E+000\"],\"2015-05-07 00\":[\"0.000E+000\"],\"2015-05-08 00\":[\"0.000E+000\"],\"2015-05-09 00\":[\"0.000E+000\"],\"2015-05-10 00\":[\"0.000E+000\"],\"2015-05-11 00\":[\"0.000E+000\"],\"2015-05-12 00\":[\"0.000E+000\"],\"2015-05-13 00\":[\"0.000E+000\"],\"2015-05-14 00\":[\"0.000E+000\"],\"2015-05-15 00\":[\"0.000E+000\"],\"2015-05-16 00\":[\"0.000E+000\"],\"2015-05-17 00\":[\"1.020E+001\"],\"2015-05-18 00\":[\"3.020E+001\"],\"2015-05-19 00\":[\"0.000E+000\"],\"2015-05-20 00\":[\"0.000E+000\"],\"2015-05-21 00\":[\"0.000E+000\"],\"2015-05-22 00\":[\"0.000E+000\"],\"2015-05-23 00\":[\"0.000E+000\"],\"2015-05-24 00\":[\"0.000E+000\"],\"2015-05-25 00\":[\"1.400E+001\"],\"2015-05-26 00\":[\"2.740E+001\"],\"2015-05-27 00\":[\"1.120E+001\"],\"2015-05-28 00\":[\"1.500E+001\"],\"2015-05-29 00\":[\"0.000E+000\"],\"2015-05-30 00\":[\"0.000E+000\"],\"2015-05-31 00\":[\"4.800E+000\"],\"2015-06-01 00\":[\"8.000E-001\"],\"2015-06-02 00\":[\"3.000E+000\"],\"2015-06-03 00\":[\"1.500E+000\"],\"2015-06-04 00\":[\"0.000E+000\"],\"2015-06-05 00\":[\"0.000E+000\"],\"2015-06-06 00\":[\"0.000E+000\"],\"2015-06-07 00\":[\"0.000E+000\"],\"2015-06-08 00\":[\"0.000E+000\"],\"2015-06-09 00\":[\"2.840E+001\"],\"2015-06-10 00\":[\"2.640E+001\"],\"2015-06-11 00\":[\"2.310E+001\"],\"2015-06-12 00\":[\"2.300E+000\"],\"2015-06-13 00\":[\"0.000E+000\"],\"2015-06-14 00\":[\"0.000E+000\"],\"2015-06-15 00\":[\"0.000E+000\"],\"2015-06-16 00\":[\"0.000E+000\"],\"2015-06-17 00\":[\"0.000E+000\"],\"2015-06-18 00\":[\"5.100E+000\"],\"2015-06-19 00\":[\"0.000E+000\"],\"2015-06-20 00\":[\"8.600E+000\"],\"2015-06-21 00\":[\"0.000E+000\"],\"2015-06-22 00\":[\"0.000E+000\"],\"2015-06-23 00\":[\"0.000E+000\"],\"2015-06-24 00\":[\"3.960E+001\"],\"2015-06-25 00\":[\"0.000E+000\"],\"2015-06-26 00\":[\"0.000E+000\"],\"2015-06-27 00\":[\"3.480E+001\"],\"2015-06-28 00\":[\"0.000E+000\"],\"2015-06-29 00\":[\"0.000E+000\"],\"2015-06-30 00\":[\"1.800E+000\"],\"2015-07-01 00\":[\"1.550E+001\"],\"2015-07-02 00\":[\"3.800E+000\"],\"2015-07-03 00\":[\"1.070E+001\"],\"2015-07-04 00\":[\"3.910E+001\"],\"2015-07-05 00\":[\"0.000E+000\"],\"2015-07-06 00\":[\"1.300E+000\"],\"2015-07-07 00\":[\"0.000E+000\"],\"2015-07-08 00\":[\"0.000E+000\"],\"2015-07-09 00\":[\"0.000E+000\"],\"2015-07-10 00\":[\"0.000E+000\"],\"2015-07-11 00\":[\"0.000E+000\"],\"2015-07-12 00\":[\"0.000E+000\"],\"2015-07-13 00\":[\"3.000E-001\"],\"2015-07-14 00\":[\"2.340E+001\"],\"2015-07-15 00\":[\"2.000E+000\"],\"2015-07-16 00\":[\"0.000E+000\"],\"2015-07-17 00\":[\"0.000E+000\"],\"2015-07-18 00\":[\"5.000E-001\"],\"2015-07-19 00\":[\"0.000E+000\"],\"2015-07-20 00\":[\"0.000E+000\"],\"2015-07-21 00\":[\"2.300E+000\"],\"2015-07-22 00\":[\"1.800E+001\"],\"2015-07-23 00\":[\"6.900E+000\"],\"2015-07-24 00\":[\"0.000E+000\"],\"2015-07-25 00\":[\"0.000E+000\"],\"2015-07-26 00\":[\"0.000E+000\"],\"2015-07-27 00\":[\"0.000E+000\"],\"2015-07-28 00\":[\"0.000E+000\"],\"2015-07-29 00\":[\"8.000E-001\"],\"2015-07-30 00\":[\"3.000E-001\"],\"2015-07-31 00\":[\"2.500E+000\"],\"2015-08-01 00\":[\"0.000E+000\"],\"2015-08-02 00\":[\"0.000E+000\"],\"2015-08-03 00\":[\"0.000E+000\"],\"2015-08-04 00\":[\"0.000E+000\"],\"2015-08-05 00\":[\"0.000E+000\"],\"2015-08-06 00\":[\"3.000E+000\"],\"2015-08-07 00\":[\"0.000E+000\"],\"2015-08-08 00\":[\"0.000E+000\"],\"2015-08-09 00\":[\"0.000E+000\"],\"2015-08-10 00\":[\"1.300E+000\"],\"2015-08-11 00\":[\"3.000E-001\"],\"2015-08-12 00\":[\"0.000E+000\"],\"2015-08-13 00\":[\"0.000E+000\"],\"2015-08-14 00\":[\"0.000E+000\"],\"2015-08-15 00\":[\"0.000E+000\"],\"2015-08-16 00\":[\"0.000E+000\"],\"2015-08-17 00\":[\"3.200E+001\"],\"2015-08-18 00\":[\"1.830E+001\"],\"2015-08-19 00\":[\"3.180E+001\"],\"2015-08-20 00\":[\"6.900E+000\"],\"2015-08-21 00\":[\"0.000E+000\"],\"2015-08-22 00\":[\"0.000E+000\"],\"2015-08-23 00\":[\"3.610E+001\"],\"2015-08-24 00\":[\"0.000E+000\"],\"2015-08-25 00\":[\"0.000E+000\"],\"2015-08-26 00\":[\"0.000E+000\"],\"2015-08-27 00\":[\"0.000E+000\"],\"2015-08-28 00\":[\"0.000E+000\"],\"2015-08-29 00\":[\"0.000E+000\"],\"2015-08-30 00\":[\"1.630E+001\"],\"2015-08-31 00\":[\"8.000E-001\"],\"2015-09-01 00\":[\"0.000E+000\"],\"2015-09-02 00\":[\"0.000E+000\"],\"2015-09-03 00\":[\"1.040E+001\"],\"2015-09-04 00\":[\"0.000E+000\"],\"2015-09-05 00\":[\"0.000E+000\"],\"2015-09-06 00\":[\"0.000E+000\"],\"2015-09-07 00\":[\"5.600E+000\"],\"2015-09-08 00\":[\"3.800E+000\"],\"2015-09-09 00\":[\"5.600E+000\"],\"2015-09-10 00\":[\"1.070E+001\"],\"2015-09-11 00\":[\"0.000E+000\"],\"2015-09-12 00\":[\"0.000E+000\"],\"2015-09-13 00\":[\"0.000E+000\"],\"2015-09-14 00\":[\"0.000E+000\"],\"2015-09-15 00\":[\"0.000E+000\"],\"2015-09-16 00\":[\"0.000E+000\"],\"2015-09-17 00\":[\"0.000E+000\"],\"2015-09-18 00\":[\"0.000E+000\"],\"2015-09-19 00\":[\"0.000E+000\"],\"2015-09-20 00\":[\"0.000E+000\"],\"2015-09-21 00\":[\"0.000E+000\"],\"2015-09-22 00\":[\"3.000E-001\"],\"2015-09-23 00\":[\"0.000E+000\"],\"2015-09-24 00\":[\"1.830E+001\"],\"2015-09-25 00\":[\"7.100E+000\"],\"2015-09-26 00\":[\"1.850E+001\"],\"2015-09-27 00\":[\"3.000E-001\"],\"2015-09-28 00\":[\"1.000E+000\"],\"2015-09-29 00\":[\"1.830E+001\"],\"2015-09-30 00\":[\"0.000E+000\"],\"2015-10-01 00\":[\"5.300E+000\"],\"2015-10-02 00\":[\"8.000E-001\"],\"2015-10-03 00\":[\"1.270E+001\"],\"2015-10-04 00\":[\"3.800E+000\"],\"2015-10-05 00\":[\"3.000E-001\"],\"2015-10-06 00\":[\"0.000E+000\"],\"2015-10-07 00\":[\"0.000E+000\"],\"2015-10-08 00\":[\"0.000E+000\"],\"2015-10-09 00\":[\"0.000E+000\"],\"2015-10-10 00\":[\"1.930E+001\"],\"2015-10-11 00\":[\"0.000E+000\"],\"2015-10-12 00\":[\"0.000E+000\"],\"2015-10-13 00\":[\"8.000E-001\"],\"2015-10-14 00\":[\"0.000E+000\"],\"2015-10-15 00\":[\"0.000E+000\"],\"2015-10-16 00\":[\"0.000E+000\"],\"2015-10-17 00\":[\"0.000E+000\"],\"2015-10-18 00\":[\"0.000E+000\"],\"2015-10-19 00\":[\"0.000E+000\"],\"2015-10-20 00\":[\"0.000E+000\"],\"2015-10-21 00\":[\"0.000E+000\"],\"2015-10-22 00\":[\"0.000E+000\"],\"2015-10-23 00\":[\"0.000E+000\"],\"2015-10-24 00\":[\"0.000E+000\"],\"2015-10-25 00\":[\"0.000E+000\"],\"2015-10-26 00\":[\"1.020E+001\"],\"2015-10-27 00\":[\"5.100E+000\"],\"2015-10-28 00\":[\"6.100E+000\"],\"2015-10-29 00\":[\"3.000E-001\"],\"2015-10-30 00\":[\"0.000E+000\"],\"2015-10-31 00\":[\"3.000E-001\"],\"2015-11-01 00\":[\"2.180E+001\"],\"2015-11-02 00\":[\"6.650E+001\"],\"2015-11-03 00\":[\"0.000E+000\"],\"2015-11-04 00\":[\"0.000E+000\"],\"2015-11-05 00\":[\"2.800E+000\"],\"2015-11-06 00\":[\"2.210E+001\"],\"2015-11-07 00\":[\"1.850E+001\"],\"2015-11-08 00\":[\"3.940E+001\"],\"2015-11-09 00\":[\"4.800E+000\"],\"2015-11-10 00\":[\"0.000E+000\"],\"2015-11-11 00\":[\"0.000E+000\"],\"2015-11-12 00\":[\"3.000E-001\"],\"2015-11-13 00\":[\"0.000E+000\"],\"2015-11-14 00\":[\"0.000E+000\"],\"2015-11-15 00\":[\"0.000E+000\"],\"2015-11-16 00\":[\"0.000E+000\"],\"2015-11-17 00\":[\"0.000E+000\"],\"2015-11-18 00\":[\"2.620E+001\"],\"2015-11-19 00\":[\"3.000E-001\"],\"2015-11-20 00\":[\"0.000E+000\"],\"2015-11-21 00\":[\"0.000E+000\"],\"2015-11-22 00\":[\"0.000E+000\"],\"2015-11-23 00\":[\"0.000E+000\"],\"2015-11-24 00\":[\"0.000E+000\"],\"2015-11-25 00\":[\"0.000E+000\"],\"2015-11-26 00\":[\"0.000E+000\"],\"2015-11-27 00\":[\"0.000E+000\"],\"2015-11-28 00\":[\"0.000E+000\"],\"2015-11-29 00\":[\"0.000E+000\"],\"2015-11-30 00\":[\"0.000E+000\"],\"2015-12-01 00\":[\"0.000E+000\"],\"2015-12-02 00\":[\"3.800E+000\"],\"2015-12-03 00\":[\"0.000E+000\"],\"2015-12-04 00\":[\"0.000E+000\"],\"2015-12-05 00\":[\"0.000E+000\"],\"2015-12-06 00\":[\"0.000E+000\"],\"2015-12-07 00\":[\"0.000E+000\"],\"2015-12-08 00\":[\"0.000E+000\"],\"2015-12-09 00\":[\"0.000E+000\"],\"2015-12-10 00\":[\"0.000E+000\"],\"2015-12-11 00\":[\"0.000E+000\"],\"2015-12-12 00\":[\"0.000E+000\"],\"2015-12-13 00\":[\"0.000E+000\"],\"2015-12-14 00\":[\"6.600E+000\"],\"2015-12-15 00\":[\"0.000E+000\"],\"2015-12-16 00\":[\"4.300E+000\"],\"2015-12-17 00\":[\"5.050E+001\"],\"2015-12-18 00\":[\"0.000E+000\"],\"2015-12-19 00\":[\"0.000E+000\"],\"2015-12-20 00\":[\"0.000E+000\"],\"2015-12-21 00\":[\"1.070E+001\"],\"2015-12-22 00\":[\"9.700E+000\"],\"2015-12-23 00\":[\"3.200E+001\"],\"2015-12-24 00\":[\"9.980E+001\"],\"2015-12-25 00\":[\"1.800E+001\"],\"2015-12-26 00\":[\"5.000E-001\"],\"2015-12-27 00\":[\"3.000E-001\"],\"2015-12-28 00\":[\"3.910E+001\"],\"2015-12-29 00\":[\"0.000E+000\"],\"2015-12-30 00\":[\"3.680E+001\"],\"2015-12-31 00\":[\"0.000E+000\"]}}";

        [Trait("Priority", "1")]
        [Fact]
        public void CheckStatus()
        {
            Precipitation precip = new Precipitation
            {
                Input = Newtonsoft.Json.JsonConvert.DeserializeObject<TimeSeriesInput>(inputObject)
            };
            Dictionary<string, string> status = NCDC.CheckStatus(precip.Input);
            Assert.Equal("OK", status["status"]);
        }

        public string completeInputObject = "{\"source\":\"ncei\",\"dateTimeSpan\":{\"startDate\":\"2015-01-01T00:00:00\",\"endDate\":\"2015-12-31T00:00:00\",\"dateTimeFormat\":\"yyyy-MM-dd HH\"},\"geometry\":{\"stationID\":\"GHCND:USW00013874\",\"geometryMetadata\":{\"token\":\"RUYNSTvfSvtosAoakBSpgxcHASBxazzP\",},\"timezone\":{\"name\":\"EST\",\"offset\":-5,\"dls\":false}},\"BaseURL\":[\"https://www.ncei.noaa.gov/access/services/data/v1?\"],\"dataValueFormat\":\"E3\",\"temporalResolution\":\"default\",\"timeLocalized\":true,\"units\":\"default\",\"outputFormat\":\"json\"}";

        [Trait("Priority", "1")]
        [Theory]
        [InlineData(365)]
        public void GetData(int count)
        {
            Precipitation precip = new Precipitation
            {
                Input = Newtonsoft.Json.JsonConvert.DeserializeObject<TimeSeriesInput>(completeInputObject),
                Output = Newtonsoft.Json.JsonConvert.DeserializeObject<TimeSeriesOutput>(outputObject)
            };
            NCDC ncdc = new NCDC();
            string errorMsg = "";
            precip.Output = ncdc.GetData(out errorMsg, precip.Output, precip.Input);
            Assert.Equal(count, precip.Output.Data.Count);
        }

    }
}
